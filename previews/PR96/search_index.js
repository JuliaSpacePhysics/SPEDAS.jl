var documenterSearchIndex = {"docs":
[{"location":"explanations/multispacecraft/#Multi-spacecraft-analysis-methods","page":"Multi-spacecraft analysis methods","title":"Multi-spacecraft analysis methods","text":"This page demonstrates the use of multi-spacecraft analysis for MMS data. For more details about the package, see MultiSpacecraftAnalysis.jl.\n\nusing SPEDAS\nusing Dates\nusing CDAWeb\nusing DimensionalData\nusing CairoMakie, SpacePhysicsMakie\n\nt0 = DateTime(\"2016-12-09T09:02\")\nt1 = DateTime(\"2016-12-09T09:04\")\nfgm_datasets = ntuple(4) do probe\n    get_data(\"MMS$(probe)_FGM_BRST_L2\", t0, t1)\nend\n\n# Load data from CDF files into memory, MMS FGM data comes with magnitude\nfields = ntuple(4) do probe\n    DimArray(fgm_datasets[probe][\"mms$(probe)_fgm_b_gse_brst_l2\"])[X(1:3), Ti(t0..t1)]\nend\n\ntplot(fields)\n\nmec_datasets = ntuple(4) do probe\n    get_data(\"MMS$(probe)_MEC_BRST_L2_EPHT89D\", t0, t1)\nend\n\npositions = ntuple(4) do probe\n    DimArray(mec_datasets[probe][\"mms$(probe)_mec_r_gse\"])[Ti(t0..t1)]\nend\n\nout = tlingradest(fields, positions)\n\nusing LinearAlgebra\nusing Unitful\n\nunitify(x, unit) = x isa Quantity ? x : x * unit\n\n\"\"\"\nCalculate the parallel component of current density with respect to magnetic field, given `ùêÅ` and Curl of magnetic field vector `curlùêÅ`.\n\"\"\"\nfunction jparallel(ùêÅ, curlùêÅ)\n    ùêÅ = unitify.(ùêÅ, u\"nT\")\n    curlùêÅ = unitify.(curlùêÅ, u\"nT/km\")\n    J_parallel = dot(curlùêÅ, ùêÅ) / norm(ùêÅ) / Unitful.Œº0\n    return J_parallel |> u\"nA/m^2\"\nend\n\njparallel(B::AbstractMatrix, curlùêÅ::AbstractMatrix; dim = 2) = jparallel.(eachslice(B; dims = dim), eachslice(curlùêÅ; dims = dim))\n\njp = jparallel(out.Bbc, out.curl)\njp = setmeta(jp, ylabel = \"Jparallel\\n(nA/m¬≤)\")\ntplot((out.Bbc, out.div, out.curl, out.curv, jp))","category":"section"},{"location":"explanations/multispacecraft/#Validation-with-PySPEDAS","page":"Multi-spacecraft analysis methods","title":"Validation with PySPEDAS","text":"using PySPEDAS\nusing PythonCall\nusing Unitful\nusing Test\n@py import pyspedas.projects.mms: mec, fgm, curlometer\ntrange = string.([t0, t1])\nfgm_vars = @py fgm(probe=[1, 2, 3, 4], trange=trange, data_rate=\"brst\", time_clip=true, varformat=\"*_gse_*\")\nmec_vars = @py mec(probe=[1, 2, 3, 4], trange=trange, data_rate=\"brst\", time_clip=true, varformat=\"*_r_gse\")\nposits_py = [\"mms1_mec_r_gse\", \"mms2_mec_r_gse\", \"mms3_mec_r_gse\", \"mms4_mec_r_gse\"]\nfields_py = [\"mms1_fgm_b_gse_brst_l2\", \"mms2_fgm_b_gse_brst_l2\", \"mms3_fgm_b_gse_brst_l2\", \"mms4_fgm_b_gse_brst_l2\"]\ncurlometer_vars = curlometer(fields=fields_py, positions=posits_py)\njp_py = PySPEDAS.get_data(\"jpar\")\n\n# Due to interpolation, pyspedas first and last values are NaN\n@test (jp ./ u\"A/m^2\" .|> NoUnits) ‚âà (jp_py[2:end-1]) atol=1e-5","category":"section"},{"location":"explanations/multispacecraft/#Benchmark","page":"Multi-spacecraft analysis methods","title":"Benchmark","text":"using Chairmarks\n@b tlingradest(fields, positions), curlometer(fields=fields_py, positions=posits_py)\n\nJulia is about 100 times faster than Python for similar workflows.","category":"section"},{"location":"explanations/multispacecraft/#Dataset-info","page":"Multi-spacecraft analysis methods","title":"Dataset info","text":"fgm_datasets[1]","category":"section"},{"location":"explanations/multispacecraft/#References","page":"Multi-spacecraft analysis methods","title":"References","text":"https://github.com/spedas/mms-examples/blob/master/basic/Curlometer%20Technique.ipynb","category":"section"},{"location":"observatory/themis/#Time-History-of-Events-and-Macroscale-Interactions-during-Substorms-(THEMIS)","page":"Time History of Events and Macroscale Interactions during Substorms (THEMIS)","title":"Time History of Events and Macroscale Interactions during Substorms (THEMIS)","text":"","category":"section"},{"location":"observatory/themis/#Instruments","page":"Time History of Events and Macroscale Interactions during Substorms (THEMIS)","title":"Instruments","text":"","category":"section"},{"location":"observatory/themis/#Datasets","page":"Time History of Events and Macroscale Interactions during Substorms (THEMIS)","title":"Datasets","text":"","category":"section"},{"location":"observatory/themis/#SPEDAS.THEMIS","page":"Time History of Events and Macroscale Interactions during Substorms (THEMIS)","title":"SPEDAS.THEMIS","text":"Sub-module for \"Time History of Events and Macroscale Interactions during Substorms (THEMIS)\"\n\nTo load project, project-specific instrument and dataset variables into scope:\n\nusing SPEDAS.THEMIS\n\nConfiguration File: THEMIS.toml\n\n\n\n\n\n","category":"module"},{"location":"observatory/themis/#SPEDAS.THEMIS.themis","page":"Time History of Events and Macroscale Interactions during Substorms (THEMIS)","title":"SPEDAS.THEMIS.themis","text":"Project: Time History of Events and Macroscale Interactions during Substorms\n  Metadata (Dict): \n    abbreviation: THEMIS\n    links: [\"https://en.wikipedia.org/wiki/THEMIS\"]\n    spase_id: spase://SMWG/Observatory/THEMIS\n\n\n\n\n\n","category":"constant"},{"location":"observatory/juno/#Juno","page":"Juno","title":"Juno","text":"","category":"section"},{"location":"observatory/juno/#Instruments","page":"Juno","title":"Instruments","text":"","category":"section"},{"location":"observatory/juno/#Datasets","page":"Juno","title":"Datasets","text":"","category":"section"},{"location":"observatory/juno/#SPEDAS.Juno","page":"Juno","title":"SPEDAS.Juno","text":"Sub-module for \"Juno (Juno)\"\n\nTo load project, project-specific instrument and dataset variables into scope:\n\nusing SPEDAS.Juno\n\nConfiguration File: Juno.toml\n\n\n\n\n\n","category":"module"},{"location":"observatory/juno/#SPEDAS.Juno.juno","page":"Juno","title":"SPEDAS.Juno.juno","text":"Project: Juno\n  Instruments (Dict): \n    jade: Jovian Auroral Distributions Experiment\n  Datasets (Dict): \n    juno-jadel5-protmom: Juno - JADE - L5 : ions - protons moments\n  Metadata (Dict): \n    links: [\"[HPDE.io](https://hpde.io/CNES/Observatory/CDPP-AMDA/Juno)\", \"[Wikipedia](https://en.wikipedia.org/wiki/Juno_(spacecraft))\"]\n    spase_id: spase://CNES/Observatory/Juno\n\n\n\n\n\n","category":"constant"},{"location":"observatory/juno/#SPEDAS.Juno.jade","page":"Juno","title":"SPEDAS.Juno.jade","text":"Instrument: Jovian Auroral Distributions Experiment\n  Metadata (Dict): \n    links: [\"[HPDE.io](https://hpde.io/CNES/Instrument/CDPP-AMDA/Juno/JADE)\", \"[PDS](https://pds-ppi.igpp.ucla.edu/mission/juno/Jovian_Auroral_Distributions_Experiment)\", \"[Wikipedia](https://en.wikipedia.org/wiki/Jovian_Auroral_Distributions_Experiment)\", \"[NumericalData - HPDE.io](https://hpde.io/CNES/NumericalData/CDPP-AMDA/Juno/JADE)\"]\n    spase_id: spase://CNES/Instrument/CDPP-AMDA/Juno/JADE\n    datasets: [\"juno-jadel5-protmom\"]\n\n\n\n\n\n","category":"constant"},{"location":"observatory/juno/#SPEDAS.Juno.juno-jadel5-protmom","page":"Juno","title":"SPEDAS.Juno.juno-jadel5-protmom","text":"LDataSet: Juno - JADE - L5 : ions - protons moments\n  Metadata (Dict): \n    links: [\"[HPDE.io](https://hpde.io/CNES/NumericalData/CDPP-AMDA/Juno/JADE/juno-jadel5-protmom)\", \"[PDS](https://pds-ppi.igpp.ucla.edu/data/JNO-J-JAD-5-MOMENTS-V1.0/DOCUMENT/JADE_FSW4_SIS_V04.PDF)\", \"[AMDA HAPI](https://amda.irap.omp.eu/service/hapi/info?id=juno-jadel5-protmom)\"]\n    sampling: 30s ‚Äî 10m\n    time_range: 2016/06/24 08:17:26 ‚Äî 2020/04/10 05:29:55\n\n\n\n\n\n","category":"constant"},{"location":"explanations/timeseries/#Time-Series","page":"Time Series","title":"Time Series","text":"See TimeseriesUtilities.jl for a collection of utilities and tutorials to simplify common time series analysis.\n\noutliers: remove spikes from signal.","category":"section"},{"location":"explanations/timeseries/#Time-Series-Resampling-Methods","page":"Time Series","title":"Time Series Resampling Methods","text":"The adjustment of a segment of time-series data set to produce a segment of data which is scientifically equivalent but with data sample timing strictly simultaneous with that of another data set is called ‚Äúresampling‚Äù. Paschmann and Daly [2], Chapter 2","category":"section"},{"location":"explanations/timeseries/#Time-Series-Interpolation","page":"Time Series","title":"Time Series Interpolation","text":"Flexible time series interpolation through the tinterp function.\n\nThis function supports interpolation for both vector-like and matrix-like time series. Other features include:\n\nReturns scalar value for single time point interpolation\nReturns DimArray for multiple time points interpolation, preserving metadata and dimensions. \nCustomizable interpolation method through the interp keyword argument","category":"section"},{"location":"explanations/timeseries/#TimeseriesUtilities.tinterp","page":"Time Series","title":"TimeseriesUtilities.tinterp","text":"tinterp(A, old_times, new_times; interp=LinearInterpolation)\n\nInterpolate time series A at new time points new_times using interp (default: LinearInterpolation) method. Returns interpolated value for single time point or DimArray for multiple time points.\n\nSee DataInterpolations.jl for available interpolation methods.\n\nExamples\n\n# Interpolate at a single time point\ntinterp(time_series, DateTime(\"2023-01-01T12:00:00\"))\n\n# Interpolate at multiple time points using cubic spline interpolation\nnew_times = DateTime(\"2023-01-01\"):Hour(1):DateTime(\"2023-01-02\")\ntinterp(time_series, new_times; interp = CubicSpline)\n\n\n\n\n\ntinterp(A, B::AbstractDimArray; kws...)\n\nInterpolate A to times in B\n\n\n\n\n\n","category":"function"},{"location":"explanations/timeseries/#TimeseriesUtilities.tinterp_nans","page":"Time Series","title":"TimeseriesUtilities.tinterp_nans","text":"tinterp_nans(da::AbstractDimArray; query=nothing, kwargs...)\n\nInterpolate only the NaN values in da along the specified dimensions query. Non-NaN values are preserved exactly as they are.\n\nSee also interpolate_nans\n\n\n\n\n\n","category":"function"},{"location":"explanations/timeseries/#TimeseriesUtilities.tsync","page":"Time Series","title":"TimeseriesUtilities.tsync","text":"tsync(A, Bs...)\n\nSynchronize multiple time series to have the same time points.\n\nThis function aligns the time series Bs... to match the time points of A by:\n\nFinding the common time range between all input time series\nExtracting the subset of A within this common range\nInterpolating each series in Bs... to match the time points of the subset of A\n\nReturns a tuple containing the synchronized time series, with the first element being the subset of A and subsequent elements being the interpolated versions of Bs....\n\nExamples\n\nA_sync, B_sync, C_sync = tsync(A, B, C)\n\nSee also: tinterp, common_timerange\n\n\n\n\n\n","category":"function"},{"location":"explanations/timeseries/#SPEDAS.resample","page":"Time Series","title":"SPEDAS.resample","text":"resample(arr, n; dim=1, verbose=false)\n\nResample an array along the dimension dim to n points. If the original length is less than or equal to n, the original array is returned unchanged.\n\n\n\n\n\n","category":"function"},{"location":"explanations/timeseries/#SPEDAS.tresample","page":"Time Series","title":"SPEDAS.tresample","text":"tresample(da::DimArray, n; dim = nothing, query=nothing)\n\nResample a DimArray specifically along its dimension dim or query to n points. Throws an error if no dimension of type dimtype is found in the array.\n\n\n\n\n\n","category":"function"},{"location":"observatory/#Observatory-Modules","page":"Observatories","title":"Observatory Modules","text":"Observatory: The host (spacecraft, network, facility) for instruments making observations.\n\nSee Data Model section for more details.\n\nThe ecosystem provides broad, flexible functionality for retrieving and loading data. If a mission or observatory does not require additional processing, you can use packages such as CDAWeb.jl, Speasy.jl, or HAPIClient.jl to accomplish the same tasks. An example of this approach appears in the SolarEnergeticParticles package, which offers utilities for accessing energetic-particle data from multiple missions (PSP, SOHO, STEREO, and Wind).\n\nWhen post-processing routines are needed and available in PySPEDAS, you can instead use PySPEDAS.jl, a wrapper library that allows you to call those routines and access the processed data directly from the Python side in Julia.","category":"section"},{"location":"observatory/#Mission-specific-packages","page":"Observatories","title":"Mission specific packages","text":"DMSPData.jl: Access and process Defense Meteorological Satellite Program data from the Madrigal database.\nELFINData.jl: A high-level Julia interface to the ELFIN mission's particle and field measurements. \nEISCATData.jl: Access and process EISCAT incoherent scatter radar data from the Madrigal database.\n\nWe also include some preliminary mission definitions here.\n\nParker Solar Probe (PSP)\nMagnetospheric Multiscale (MMS)\nJuno\nTime History of Events and Macroscale Interactions during Substorms (THEMIS)","category":"section"},{"location":"observatory/#References","page":"Observatories","title":"References","text":"SPASE Data Model\nPySPEDAS Projects","category":"section"},{"location":"tutorials/10_dynamic_power_spectra/#Dynamic-power-spectra-calculations","page":"Dynamic power spectra calculations","title":"Dynamic power spectra calculations","text":"using CDAWeb\nusing SPEDAS\nusing DimensionalData\nusing CairoMakie\nusing SpacePhysicsMakie\n\nt0 = \"2015-10-16\"\nt1 = \"2015-10-16T03\"\n\nds = CDAWeb.get_dataset(\"MMS4_SCM_SRVY_L2_SCSRVY\", t0, t1; clip=true)\nda = DimArray(ds[\"mms4_scm_acb_gse_scsrvy_srvy_l2\"])\n\ntplot(da)\n\npvar = setmeta(pspectrum(da; nfft = 512), yscale=log10)\nf = tplot(pvar[:,:,1])\nylims!(5e-2, 2e1)\nf","category":"section"},{"location":"tutorials/10_dynamic_power_spectra/#References","page":"Dynamic power spectra calculations","title":"References","text":"Search-coil Magnetometer (SCM) - pyspedas","category":"section"},{"location":"api/#API-Reference","page":"API","title":"API Reference","text":"Pages = [\"api.md\"]","category":"section"},{"location":"api/#Data-Model","page":"API","title":"Data Model","text":"","category":"section"},{"location":"api/#Coordinate-Transformations","page":"API","title":"Coordinate Transformations","text":"See GeoCotrans.jl and IRBEM.jl for more details.","category":"section"},{"location":"api/#SPEDAS","page":"API","title":"SPEDAS","text":"","category":"section"},{"location":"api/#Timeseries-Utilities","page":"API","title":"Timeseries Utilities","text":"","category":"section"},{"location":"api/#SpaceDataModel.AbstractCoordinateSystem","page":"API","title":"SpaceDataModel.AbstractCoordinateSystem","text":"AbstractCoordinateSystem\n\nBase abstract type for all coordinate system implementations.\n\n\n\n\n\n","category":"type"},{"location":"api/#SpaceDataModel.AbstractCoordinateVector","page":"API","title":"SpaceDataModel.AbstractCoordinateVector","text":"AbstractCoordinateVector\n\nBase abstract type to represent coordinates in a coordinate systems.\n\n\n\n\n\n","category":"type"},{"location":"api/#SpaceDataModel.AbstractDataVariable","page":"API","title":"SpaceDataModel.AbstractDataVariable","text":"A variable v of a type derived from AbstractDataVariable should at least implement:\n\nBase.parent(v): the parent array of the variable\n\nOptional:\n\ntimes(v): the timestamps of the variable\nunits(v): the units of the variable\nmeta(v): the metadata of the variable\nname(v): the name of the variable\ndim(v, i): the i-th dimension of the variable\ndim(v, name): the dimension named name of the variable\n\n\n\n\n\n","category":"type"},{"location":"api/#SpaceDataModel.AbstractReferenceFrame","page":"API","title":"SpaceDataModel.AbstractReferenceFrame","text":"A specific realization of a reference system.\n\n\n\n\n\n","category":"type"},{"location":"api/#SpaceDataModel.AbstractReferenceSystem","page":"API","title":"SpaceDataModel.AbstractReferenceSystem","text":"A Reference System is a scheme for orienting points in a space and describing how they transform to other systems.\n\nSee also: AbstractReferenceFrame\n\n\n\n\n\n","category":"type"},{"location":"api/#SpaceDataModel.AbstractRepresentation","page":"API","title":"SpaceDataModel.AbstractRepresentation","text":"Abstract base for representing a point in a 3D coordinate system.\n\nReference:\n\nhttps://docs.astropy.org/en/stable/coordinates/representations.html\nhttps://github.com/JuliaEarth/CoordRefSystems.jl/blob/main/src/crs.jl\n\n\n\n\n\n","category":"type"},{"location":"api/#SpaceDataModel.DataSet","page":"API","title":"SpaceDataModel.DataSet","text":"DataSet <: AbstractDataSet\n\nA concrete dataset with a name, data (parameters), and metadata.\n\n\n\n\n\n","category":"type"},{"location":"api/#SpaceDataModel.DataSet-Tuple{Any, Any}","page":"API","title":"SpaceDataModel.DataSet","text":"Construct a DataSet from a name and data, with optional metadata.\n\n\n\n\n\n","category":"method"},{"location":"api/#SpaceDataModel.DataSet-Tuple{LDataSet}","page":"API","title":"SpaceDataModel.DataSet","text":"DataSet(ld::LDataSet; kwargs...)\n\nCreate a concrete DataSet from a Dataset template with specified data.\n\nSee also: LDataSet\n\n\n\n\n\n","category":"method"},{"location":"api/#SpaceDataModel.Instrument","page":"API","title":"SpaceDataModel.Instrument","text":"Instrument <: AbstractInstrument\n\nFields\n\nname: The name of the instrument\nmetadata: Additional metadata\ndatasets: Collection of datasets\n\n\n\n\n\n","category":"type"},{"location":"api/#SpaceDataModel.Instrument-Tuple{AbstractDict}","page":"API","title":"SpaceDataModel.Instrument","text":"Construct an Instrument from a dictionary.\n\n\n\n\n\n","category":"method"},{"location":"api/#SpaceDataModel.Instrument-Tuple{}","page":"API","title":"SpaceDataModel.Instrument","text":"keyword-based constructor\n\n\n\n\n\n","category":"method"},{"location":"api/#SpaceDataModel.LDataSet","page":"API","title":"SpaceDataModel.LDataSet","text":"LDataSet <: AbstractDataSet\n\nA template for generating datasets with parameterized naming patterns.\n\nFields\n\nformat: Format string pattern for the dataset name\ndata: Dictionary of variable patterns\nmetadata: Additional metadata\n\nExamples\n\nusing SPEDAS.MMS\n\n# Access FPI dataset specification\nlds = mms.datasets.fpi_moms\n\n# Create a concrete dataset with specific parameters\nds = DataSet(lds; probe=1, data_rate=\"fast\", data_type=\"des\")\n\nThe format string and variable patterns use placeholders like {probe}, {data_rate},  which are replaced with actual values when creating a concrete DataSet.\n\n\n\n\n\n","category":"type"},{"location":"api/#SpaceDataModel.NoMetadata","page":"API","title":"SpaceDataModel.NoMetadata","text":"NoMetadata\n\nIndicates an object has no metadata. But unlike using nothing,  get, keys and haskey will still work on it, get always returning the fallback argument. keys returns () while haskey always returns false.\n\n\n\n\n\n","category":"type"},{"location":"api/#SpaceDataModel.Project","page":"API","title":"SpaceDataModel.Project","text":"Project <: AbstractProject\n\nA representation of a project or mission containing instruments and datasets.\n\nFields\n\nname: The name of the project\nmetadata: Additional metadata\ninstruments: Collection of instruments\ndatasets: Collection of datasets\n\n\n\n\n\n","category":"type"},{"location":"api/#SpaceDataModel.Project-Tuple{}","page":"API","title":"SpaceDataModel.Project","text":"keyword-based constructor\n\n\n\n\n\n","category":"method"},{"location":"api/#SpaceDataModel.TimeDependentFrame","page":"API","title":"SpaceDataModel.TimeDependentFrame","text":"Frames can depend on epoch and planetary orientation models\n\n\n\n\n\n","category":"type"},{"location":"api/#Base.:‚àò-Tuple{Any, AbstractProduct}","page":"API","title":"Base.:‚àò","text":"Create a new product with the composed function\n\n\n\n\n\n","category":"method"},{"location":"api/#SpaceDataModel._getfield","page":"API","title":"SpaceDataModel._getfield","text":"_getfield(v, name, default)\n\nReturn the field from a composite v for the given name, or the given default if no field is present.\n\nSee also: getfield.\n\n\n\n\n\n","category":"function"},{"location":"api/#SpaceDataModel.dim","page":"API","title":"SpaceDataModel.dim","text":"dim(x, i)\ndim(x, name)\n\nGet the i-th dimension of object x, or the dimension associated with the given name. The default implementation returns axes(x, i).\n\nA dimension may be time-varying or dependent on other dimensions; in such cases, the effective size of the corresponding array dimension ndims can be greater than 1.\n\n\n\n\n\n","category":"function"},{"location":"api/#SpaceDataModel.getcsys-Tuple{Any}","page":"API","title":"SpaceDataModel.getcsys","text":"getcsys(x)\n\nGet the coordinate system of x. Ideally, this should return both the reference frame and coordinate representation.\n\nIf x is a instance of AbstractCoordinateSystem, return x itself. If x is a type of AbstractCoordinateSystem, return an instance of the coordinate system, i.e. x().\n\nThis is a generic function, packages should extend it for their own types.\n\n\n\n\n\n","category":"method"},{"location":"api/#SpaceDataModel.getmeta","page":"API","title":"SpaceDataModel.getmeta","text":"getmeta(x, key, default=nothing)\n\nGet metadata value associated with key for object x, or default if key is not present.\n\n\n\n\n\n","category":"function"},{"location":"api/#SpaceDataModel.getmeta-Tuple{Any}","page":"API","title":"SpaceDataModel.getmeta","text":"getmeta(x)\n\nGet metadata for object x. If x does not have metadata, return NoMetadata(). \n\n\n\n\n\n","category":"method"},{"location":"api/#SpaceDataModel.setmeta","page":"API","title":"SpaceDataModel.setmeta","text":"setmeta(x, key => value, ...; symbolkey => value2, ...)\nsetmeta(x, dict::AbstractDict)\n\nUpdate metadata for object x for key key to have value value and return x.\n\n\n\n\n\n","category":"function"},{"location":"api/#SpaceDataModel.setmeta!","page":"API","title":"SpaceDataModel.setmeta!","text":"setmeta!(x, key => value, ...; symbolkey => value2, ...)\nsetmeta!(x, dict::AbstractDict)\n\nUpdate metadata for object x in-place and return x. The metadata container must be mutable.\n\nThe arguments could be multiple key-value pairs or a dictionary of metadata; keyword arguments are also accepted.\n\nExamples\n\nsetmeta!(x, :units => \"m/s\", :source => \"sensor\")\nsetmeta!(x, Dict(:units => \"m/s\", :quality => \"good\"))\nsetmeta!(x; units=\"m/s\", calibrated=true)\n\nThrows an error if the metadata is not mutable. Use setmeta for immutable metadata.\n\n\n\n\n\n","category":"function"},{"location":"api/#SpaceDataModel.@get","page":"API","title":"SpaceDataModel.@get","text":"@get(collection, key, default)\n\nShort-circuiting version of get. See also @something.\n\n\n\n\n\n","category":"macro"},{"location":"api/#SpaceDataModel.@getfield","page":"API","title":"SpaceDataModel.@getfield","text":"Short-circuiting version of _getfield.\n\n\n\n\n\n","category":"macro"},{"location":"api/#SPEDAS.cotrans","page":"API","title":"SPEDAS.cotrans","text":"cotrans(A, in, out; backend=:auto)\ncotrans(A, out; in=get_coord(A))\n\nTransform the data to the out coordinate system from the in coordinate system.\n\nIf backend is set to :auto (default), this function automatically chooses between Julia's GeoCotrans (if available) and Fortran's IRBEM implementation. Otherwise, it uses the specified backend.\n\nReferences:\n\nIRBEM-LIB: compute magnetic coordinates and perform coordinate conversions (Documentation, IRBEM.jl)\nSPEDAS Cotrans\n\n\n\n\n\n","category":"function"},{"location":"api/#SPEDAS.SPEDAS","page":"API","title":"SPEDAS.SPEDAS","text":"Julia-based Space Physics Environment Data Analysis Software\n\nSee the Documentation for more information.\n\n\n\n\n\n","category":"module"},{"location":"api/#SPEDAS.amap-Tuple{Any, DimensionalData.AbstractDimArray, DimensionalData.AbstractDimArray}","page":"API","title":"SPEDAS.amap","text":"amap(f, a, b)\n\nApply a function f to the intersection of a and b.\n\nhttps://github.com/rafaqz/DimensionalData.jl/issues/914\n\n\n\n\n\n","category":"method"},{"location":"api/#SPEDAS.angle-Tuple{AbstractVector, AbstractVector}","page":"API","title":"SPEDAS.angle","text":"Return the angle between two vectors.\n\n\n\n\n\n","category":"method"},{"location":"api/#SPEDAS.cotrans-Tuple{Any, Any, Any}","page":"API","title":"SPEDAS.cotrans","text":"cotrans(A, in, out; backend=:auto)\ncotrans(A, out; in=get_coord(A))\n\nTransform the data to the out coordinate system from the in coordinate system.\n\nIf backend is set to :auto (default), this function automatically chooses between Julia's GeoCotrans (if available) and Fortran's IRBEM implementation. Otherwise, it uses the specified backend.\n\nReferences:\n\nIRBEM-LIB: compute magnetic coordinates and perform coordinate conversions (Documentation, IRBEM.jl)\nSPEDAS Cotrans\n\n\n\n\n\n","category":"method"},{"location":"api/#SPEDAS.current_density-Tuple{Any, Any}","page":"API","title":"SPEDAS.current_density","text":"current_density(B, V)\n\nCalculate the current density time series from the magnetic field (B) and plasma velocity (V) time series.\n\nAssume 1-D structure along the z-direction. Remember to transform the coordinates of B and V first (e.g. using mva\n\n\n\n\n\n","category":"method"},{"location":"api/#SPEDAS.fac_mat-Tuple{AbstractVector}","page":"API","title":"SPEDAS.fac_mat","text":"fac_mat(vec::AbstractVector; xref=[1.0, 0.0, 0.0])\n\nGenerates a field-aligned coordinate (FAC) transformation matrix for a vector.\n\nArguments\n\nvec: A 3-element vector representing the magnetic field\n\n\n\n\n\n","category":"method"},{"location":"api/#SPEDAS.fill_gaps-Union{Tuple{T}, Tuple{AbstractVector{T}, Any}} where T","page":"API","title":"SPEDAS.fill_gaps","text":"fill_gaps(times, data; resolution, margin)\n\nGiven a sorted vector of time stamps times and corresponding data values, this function inserts missing time stamps with a value of NaN if the gap between consecutive time stamps is larger than resolution + margin.\n\nIf the gap is only slightly larger (within margin of the resolution), no gap is inserted.\nThe function supports numeric times or DateTime (with appropriate resolution types).\n\nArguments\n\ntimes: Sorted vector of time stamps.\nresolution: The expected time difference between consecutive time stamps.\nmargin: Allowed deviation from resolution before inserting missing time stamps.\n\nReturns\n\nA tuple (full_times, full_values) where:\n\nfull_times is a vector containing all time stamps (original and inserted).\nfull_values is a vector of data values with NaN for inserted gaps.\n\nReferences\n\nhttps://pyspedas.readthedocs.io/en/latest/modules/pytplot/tplotmath/degap.html\n\n\n\n\n\n","category":"method"},{"location":"api/#SPEDAS.pspectrum-Tuple{DimensionalData.AbstractDimVector, SignalAnalysis.Spectrogram}","page":"API","title":"SPEDAS.pspectrum","text":"pspectrum(x::AbstractDimArray, spec::Spectrogram)\npspectrum(x::AbstractDimArray; nfft=256, noverlap=128, window=hamming)\n\nCompute the power spectrum (time-frequency representation) of a time series using the short-time Fourier transform.\n\nReturns a DimArray with frequency and original time dimensions.\n\nSee also: DSP.Spectrogram, DSP.stft\n\nReference\n\nMatlab\n\n\n\n\n\n","category":"method"},{"location":"api/#SPEDAS.resample-Tuple{Any, Any}","page":"API","title":"SPEDAS.resample","text":"resample(arr, n; dim=1, verbose=false)\n\nResample an array along the dimension dim to n points. If the original length is less than or equal to n, the original array is returned unchanged.\n\n\n\n\n\n","category":"method"},{"location":"api/#SPEDAS.rotate-Tuple{AbstractMatrix, AbstractMatrix}","page":"API","title":"SPEDAS.rotate","text":"rotate(ts::AbstractMatrix, mat::AbstractMatrix)\n\nCoordinate-aware transformation of vector/matrix by rotation matrix(s) mat(s). Assume ts is a matrix of shape (n, 3).\n\n\n\n\n\n","category":"method"},{"location":"api/#SPEDAS.set_coord-Tuple{Any, Any}","page":"API","title":"SPEDAS.set_coord","text":"Set the coordinate system.\n\nUpdates legend names and axis labels if they include the coordinate system. Also updates the dimension name if it contains the coordinate system.\n\nReference:\n\nhttps://pyspedas.readthedocs.io/en/latest/modules/pytplot/dataattgetterssetters.html#set_coords\n\n\n\n\n\n","category":"method"},{"location":"api/#SPEDAS.tlingradest-Tuple{Any, Any}","page":"API","title":"SPEDAS.tlingradest","text":"tlingradest(fields, positions)\n\nInterpolate and Compute spatial derivatives such as grad, div, curl and curvature using reciprocal vector technique.\n\n\n\n\n\n","category":"method"},{"location":"api/#SPEDAS.tresample-Tuple{DimensionalData.DimArray, Any}","page":"API","title":"SPEDAS.tresample","text":"tresample(da::DimArray, n; dim = nothing, query=nothing)\n\nResample a DimArray specifically along its dimension dim or query to n points. Throws an error if no dimension of type dimtype is found in the array.\n\n\n\n\n\n","category":"method"},{"location":"api/#SPEDAS.œâ2f-Tuple{Any}","page":"API","title":"SPEDAS.œâ2f","text":"Convert angular frequency to frequency\n\nReference: https://www.wikiwand.com/en/articles/Angular_frequency\n\n\n\n\n\n","category":"method"},{"location":"api/#SPEDAS.@load_project_config-Tuple{Any}","page":"API","title":"SPEDAS.@load_project_config","text":"@load_project_config(file)\n\nLoad configuration from a file and export all key-value pairs as constants. The macro evaluates in the calling module's context.\n\n\n\n\n\n","category":"macro"},{"location":"api/#TimeseriesUtilities.TimeseriesUtilities","page":"API","title":"TimeseriesUtilities.TimeseriesUtilities","text":"TimeseriesUtilities\n\nA collection of utilities to simplify common time series analysis.\n\nFrom data cleaning to arithmetic operations (e.g. linear algebra) to common time series operations (e.g. resampling, filtering).\n\nData Cleaning\n\nfind_outliers, find_outliers_median, find_outliers_mean\nreplace_outliers, replace_outliers!\n\nQuery\n\ntimes, time_grid\ntimerange, common_timerange\n\n(Windowed) Statistics\n\ntstat\ntmean\ntmedian\ntsum\ntvar\ntstd\ntsem\n\nAlgebra\n\ntcross\ntdot\ntnorm\ntsproj, tproj, toproj\ntsubtract\ntderiv\n\nTime-Domain Operations\n\ntselect\ntclip, tclips\ntview\ntmask and tmask!\ntshift\ntsplit\ntgroupby\nResampling: tinterp, tsync\n\nTime-Frequency Domain Operations\n\ntfilter\n\n\n\n\n\n","category":"module"},{"location":"api/#TimeseriesUtilities.DiffQ","page":"API","title":"TimeseriesUtilities.DiffQ","text":"DiffQ(v, t; dim=1)\n\nDifference quotient of v with respect to t.\n\nTo avoid undefined behavior for division by Date/DateTime, we convert the time difference to a Unitful.Quantity if eltype(v) is not a Unitful.Quantity.\n\n\n\n\n\n","category":"type"},{"location":"api/#TimeseriesUtilities.Tinterp","page":"API","title":"TimeseriesUtilities.Tinterp","text":"Tinterp{T, F} <: Function\n\nA function-like wrapper for time series interpolation that handles time type conversions.\n\nNotes\n\nIt is a workaround for Time type: https://github.com/SciML/DataInterpolations.jl/issues/436\n\n\n\n\n\n","category":"type"},{"location":"api/#TimeseriesUtilities.common_timerange-Tuple{Any, Vararg{Any}}","page":"API","title":"TimeseriesUtilities.common_timerange","text":"common_timerange(x1, xs...)\n\nGet the common time range (intersection) across multiple arrays. If there is no overlap, returns nothing.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.dimnum","page":"API","title":"TimeseriesUtilities.dimnum","text":"dimnum(x, query)\n\nGet the number(s) of Dimension(s) as ordered in the dimensions of an object.\n\nExtend the function for custom type x. By default, we fall back to DimensionalData.dimnum.\n\n\n\n\n\n","category":"function"},{"location":"api/#TimeseriesUtilities.dropna-Tuple{Any}","page":"API","title":"TimeseriesUtilities.dropna","text":"dropna(A; dim=nothing)\ndropna(A::AbstractDimArray; dim=nothing, query=nothing)\n\nRemove slices containing NaN values along along the dim dimension.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.find_continuous_timeranges-Tuple{Any, Any}","page":"API","title":"TimeseriesUtilities.find_continuous_timeranges","text":"find_continuous_timeranges(x, max_dt)\n\nFind continuous time ranges for x, where max_dt is the maximum time gap between consecutive times.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.find_outliers-Tuple{Any}","page":"API","title":"TimeseriesUtilities.find_outliers","text":"find_outliers(A, [method, window]; dim = 1, kw...)\n\nFind outliers in data A along the specified dim dimension.\n\nReturns a Boolean array whose elements are true when an outlier is detected in the corresponding element of A.\n\nThe default method is :median (other option is :mean), which uses the median absolute deviation (MAD) to detect outliers. When the length of A is greater than 256, it uses a moving window of size 16.\n\nSee also: find_outliers_median, find_outliers_mean, isoutlier - MATLAB\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.find_outliers_mean-Tuple{AbstractVector, Any}","page":"API","title":"TimeseriesUtilities.find_outliers_mean","text":"find_outliers_mean(x::AbstractVector, window; threshold = 3)\n\nFind outliers that are defined as elements more than three standard deviations from the mean.\n\nThis method is faster but less robust than find_outliers_median.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.find_outliers_median-Tuple{AbstractVector, Any}","page":"API","title":"TimeseriesUtilities.find_outliers_median","text":"find_outliers_median(x, window; threshold=3)\n\nFind outliers that are defined as elements more than threshold=3 times the scaled median absolute deviation (MAD) from the median.\n\nWhen window is set to a integer, a moving window of that size is used to compute local MAD. Otherwise, global statistics are used.\n\nReferences\n\nMedian absolute deviation - Wikipedia\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.groupby_dynamic","page":"API","title":"TimeseriesUtilities.groupby_dynamic","text":"Group x into windows based on every and period.\n\n\n\n\n\n","category":"function"},{"location":"api/#TimeseriesUtilities.interpolate_nans-Tuple{Any, Any}","page":"API","title":"TimeseriesUtilities.interpolate_nans","text":"interpolate_nans(da; interp=LinearInterpolation)\n\nInterpolate only the NaN values in da along the specified dimension dims. Non-NaN values are preserved exactly as they are.\n\nThe default interpolation method interp is LinearInterpolation.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.interpolate_outliers!-Tuple{Any, Any, Any}","page":"API","title":"TimeseriesUtilities.interpolate_outliers!","text":"interpolate_outliers!(x, t, outliers)\n\nInterpolate outliers in x using interpolation of neighboring non-outlier values.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.oproj-Tuple{Any, Any}","page":"API","title":"TimeseriesUtilities.oproj","text":"Vector rejection\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.proj-Tuple{Any, Any}","page":"API","title":"TimeseriesUtilities.proj","text":"proj(a, b)\n\nVector projection of a vector a on (or onto) a nonzero vector b.\n\nReferences: Wikipedia\n\nSee also: sproj, oproj\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.rectify-Tuple{Any}","page":"API","title":"TimeseriesUtilities.rectify","text":"Rectify the time step of a DimArray to be uniform.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.replace_outliers!-Tuple{Any, Any, Vararg{Any}}","page":"API","title":"TimeseriesUtilities.replace_outliers!","text":"replace_outliers!(A, s, [find_method, window]; kwargs...)\n\nFinds outliers in A and replaces them with s (by default: NaN).\n\nSee also: find_outliers, filloutliers - MATLAB\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.replace_outliers!-Tuple{Any, Symbol, Vararg{Any}}","page":"API","title":"TimeseriesUtilities.replace_outliers!","text":"replace_outliers!(A, method, [find_method, window]; kwargs...)\nreplace_outliers!(A, method, outliers; kwargs...)\n\nReplaces outliers in A with values determined by the specified method.\n\nOutliers can be detected using find_outliers with optional find_method and window parameters or specified directly as a Boolean array outliers.\n\nmethod can be one of the following:\n\n:linear: Linear interpolation of neighboring, nonoutlier values\n:previous: Previous nonoutlier value\n:next: Next nonoutlier value\n:nearest: Nearest nonoutlier value\n\nSee also: filloutliers - MATLAB\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.replace_outliers-Tuple{Any, Vararg{Any}}","page":"API","title":"TimeseriesUtilities.replace_outliers","text":"replace_outliers(A; args...; kw...)\n\nNon-mutable version of replace_outliers!.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.smooth-Tuple{Any, Any}","page":"API","title":"TimeseriesUtilities.smooth","text":"smooth(da::AbstractDimArray, window; dim=Ti, suffix=\"_smoothed\", kwargs...)\n\nSmooths a time series by computing a moving average over a sliding window.\n\nThe size of the sliding window can be either:\n\nQuantity: A time duration that will be converted to number of samples based on data resolution\nInteger: Number of samples directly\n\nArguments\n\ndims=Ti: Dimension along which to perform smoothing (default: time dimension)\nsuffix=\"_smoothed\": Suffix to append to the variable name in output\nkwargs...: Additional arguments passed to RollingWindowArrays.rolling\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.sproj-Tuple{Any, Any}","page":"API","title":"TimeseriesUtilities.sproj","text":"Scalar projection\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tclip-Tuple{DimensionalData.AbstractDimArray, Any, Any}","page":"API","title":"TimeseriesUtilities.tclip","text":"tclip(A, t0, t1; query=nothing, sort=false)\n\nClip a Dimension or DimArray A to a time range [t0, t1].\n\nFor unordered dimensions, the dimension should be sorted before clipping (see tsort).\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tclips-Union{NTuple{N, Any}, Tuple{N}} where N","page":"API","title":"TimeseriesUtilities.tclips","text":"tclips(xs...; trange=common_timerange(xs...))\n\nClip multiple arrays to a common time range trange.\n\nIf trange is not provided, automatically finds the common time range across all input arrays.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tcross-Tuple{Any, Any}","page":"API","title":"TimeseriesUtilities.tcross","text":"tcross(x, y; dim = nothing, query=nothing)\n\nCompute the cross product of two (arrays of) vectors along the specified dimension dim or query.\n\nReferences:\n\nhttps://docs.xarray.dev/en/stable/generated/xarray.cross.html\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tderiv-Tuple","page":"API","title":"TimeseriesUtilities.tderiv","text":"tderiv(A, times; dim=1)\ntderiv(A; dim = nothing, query = nothing)\n\nCompute the time derivative of A. Set lazy=true for lazy evaluation.\n\nSee also: deriv_data - PySPEDAS\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tdot-Tuple{Any, Any}","page":"API","title":"TimeseriesUtilities.tdot","text":"tdot(x, y; dim=nothing, query=nothing)\n\nDot product of two arrays x and y along the dim dimension.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tfilter","page":"API","title":"TimeseriesUtilities.tfilter","text":"tfilter(da, Wn1, Wn2=samplingrate(da) / 2; designmethod=nothing)\n\nBy default, the max frequency corresponding to the Nyquist frequency is used.\n\nReferences\n\nhttps://docs.juliadsp.org/stable/filters/\nhttps://www.mathworks.com/help/signal/ref/filtfilt.html\nhttps://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.filtfilt.html\n\nIssues\n\nDSP.jl and Unitful.jl: https://github.com/JuliaDSP/DSP.jl/issues/431\n\n\n\n\n\n","category":"function"},{"location":"api/#TimeseriesUtilities.tgroupby-Tuple{Any, Vararg{Any}}","page":"API","title":"TimeseriesUtilities.tgroupby","text":"tgroupby(x, every, period = every, start_by = :window)\n\nGroup x into windows based on every and period.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.time_grid-Tuple{Any, Any}","page":"API","title":"TimeseriesUtilities.time_grid","text":"time_grid(x, dt)\n\nCreate a time grid from the minimum to maximum time in x with the step size dt.\n\nExamples\n\n# Create hourly time grid\ntime_grid(x, Hour(1))\ntime_grid(x, 1u\"hr\")\n\n# Create 1-s intervals\ntime_grid(x, Second(1))\ntime_grid(x, 1u\"second\")\ntime_grid(x, 1u\"Hz\")\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.timerange-Tuple{Any}","page":"API","title":"TimeseriesUtilities.timerange","text":"timerange(times)\ntimerange(x1, xs...)\n\nGet the time range (minimum and maximum) of time series data.\n\nFor a single argument, returns a tuple (tmin, tmax) containing the minimum and maximum times. For multiple arguments, returns the common time range (intersection) across all arrays - equivalent to common_timerange(x1, xs...).\n\nExamples\n\n# Single time series\ntimes = [1, 2, 3, 4, 5]\ntimerange(times)  # (1, 5)\n\n# Multiple time series - find common range\nx1_times = [1, 2, 3, 4]\nx2_times = [2, 3, 4, 5]\ntimerange(x1_times, x2_times)  # (2, 4)\n\nSee also: common_timerange, tminimum, tmaximum\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.times-Tuple{DimensionalData.AbstractDimArray, Vararg{Any}}","page":"API","title":"TimeseriesUtilities.times","text":"Returns the time indices of x.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tinterp-Tuple{Any, Any, Any}","page":"API","title":"TimeseriesUtilities.tinterp","text":"tinterp(A, old_times, new_times; interp=LinearInterpolation)\n\nInterpolate time series A at new time points new_times using interp (default: LinearInterpolation) method. Returns interpolated value for single time point or DimArray for multiple time points.\n\nSee DataInterpolations.jl for available interpolation methods.\n\nExamples\n\n# Interpolate at a single time point\ntinterp(time_series, DateTime(\"2023-01-01T12:00:00\"))\n\n# Interpolate at multiple time points using cubic spline interpolation\nnew_times = DateTime(\"2023-01-01\"):Hour(1):DateTime(\"2023-01-02\")\ntinterp(time_series, new_times; interp = CubicSpline)\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tinterp-Tuple{Any, DimensionalData.AbstractDimArray}","page":"API","title":"TimeseriesUtilities.tinterp","text":"tinterp(A, B::AbstractDimArray; kws...)\n\nInterpolate A to times in B\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tinterp_nans-Tuple{DimensionalData.AbstractDimArray}","page":"API","title":"TimeseriesUtilities.tinterp_nans","text":"tinterp_nans(da::AbstractDimArray; query=nothing, kwargs...)\n\nInterpolate only the NaN values in da along the specified dimensions query. Non-NaN values are preserved exactly as they are.\n\nSee also interpolate_nans\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tmask!-Tuple{Any, Any, Any}","page":"API","title":"TimeseriesUtilities.tmask!","text":"tmask!(da, t0, t1)\ntmask!(da, it::Interval)\ntmask!(da, its)\n\nMask all data values within the specified time range(s) (t0, t1) / it / its with NaN.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tmask-Tuple{Any, Vararg{Any}}","page":"API","title":"TimeseriesUtilities.tmask","text":"tmask(da, args...; kwargs...)\n\nNon-mutable version of tmask!. See also tmask!.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tmaximum","page":"API","title":"TimeseriesUtilities.tmaximum","text":"tmaximum(x)\n\nGet the maximum timestamp of x.\n\n\n\n\n\n","category":"function"},{"location":"api/#TimeseriesUtilities.tmean-Tuple{Any, Vararg{Any}}","page":"API","title":"TimeseriesUtilities.tmean","text":"tmean(x, [dt]; dim=nothing, query=nothing)\n\nCalculate the arithmetic mean of x along the dim dimension, optionally grouped by dt.\n\nIt returns a value if x is a vector along the dim dimension, otherwise returns a DimArray with the specified dimension dropped.\n\nIf dim is not specified, it defaults to the query dimension (dimension of type TimeDim by default).\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tmedian-Tuple{Any, Vararg{Any}}","page":"API","title":"TimeseriesUtilities.tmedian","text":"tmedian(x, [dt]; dim=nothing, query=nothing)\n\nCalculate the median of x along the dim dimension, optionally grouped by dt.\n\nIt returns a value if x is a vector along the dim dimension, otherwise returns a DimArray with the specified dimension dropped.\n\nIf dim is not specified, it defaults to the query dimension (dimension of type TimeDim by default).\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tminimum","page":"API","title":"TimeseriesUtilities.tminimum","text":"tminimum(x)\n\nGet the minimum timestamp of x.\n\n\n\n\n\n","category":"function"},{"location":"api/#TimeseriesUtilities.tnorm-Tuple{Any}","page":"API","title":"TimeseriesUtilities.tnorm","text":"tnorm(A; dim=nothing, query=nothing)\n\nCompute the norm of each slice in A along the specified dimension dim or query.\n\nSee also: tnorm_combine\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tnorm_combine-Tuple{Any}","page":"API","title":"TimeseriesUtilities.tnorm_combine","text":"tnorm_combine(x; dim=nothing, name=:magnitude)\n\nCalculate the norm of each slice along query dimension and combine it with the original components.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.toproj-Tuple{Any, Any}","page":"API","title":"TimeseriesUtilities.toproj","text":"toproj(A, B; dim=nothing, query=nothing)\n\nCompute vector rejection (orthogonal projection) of array A from B along specified dimension dim or query.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tproj-Tuple{Any, Any}","page":"API","title":"TimeseriesUtilities.tproj","text":"tproj(A, B; dim=nothing, query=nothing)\n\nCompute vector projection of A onto B along specified dimension dim or query.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tresample-Tuple{Any, Any, Any}","page":"API","title":"TimeseriesUtilities.tresample","text":"tresample(A, old_times, freq; kw...)\n\nResample time series A onto a regular time grid with the specified frequency freq.\n\nSee also: tinterp, time_grid\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tselect-Tuple{DimensionalData.AbstractDimArray, Any, Any}","page":"API","title":"TimeseriesUtilities.tselect","text":"tselect(A, t, [Œ¥t]; query=nothing)\n\nSelect the value of A closest to time t within the time range [t-Œ¥t, t+Œ¥t].\n\nSimilar to DimensionalData.Dimensions.Lookups.At but choose the closest value and return missing if the time range is empty.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tsem-Tuple{Any, Vararg{Any}}","page":"API","title":"TimeseriesUtilities.tsem","text":"tsem(x, [dt]; dim=nothing, query=nothing)\n\nCalculate the standard error of the mean of x along the dim dimension, optionally grouped by dt.\n\nIt returns a value if x is a vector along the dim dimension, otherwise returns a DimArray with the specified dimension dropped.\n\nIf dim is not specified, it defaults to the query dimension (dimension of type TimeDim by default).\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tshift","page":"API","title":"TimeseriesUtilities.tshift","text":"tshift(x; dim=TimeDim, t0=nothing, new_dim=nothing)\n\nShift the dim of x by t0.\n\n\n\n\n\n","category":"function"},{"location":"api/#TimeseriesUtilities.tsort-Tuple{Any}","page":"API","title":"TimeseriesUtilities.tsort","text":"tsort(A; query=nothing, rev=false)\n\nSort a DimArray A along the query dimension.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tsplit-Tuple{Any, Any, Int64}","page":"API","title":"TimeseriesUtilities.tsplit","text":"tsplit(t0, t1, n::Int)\ntsplit(t0, t1, dt)\ntsplit(t0, t1, dtType::Type{<:Period})\n\nSplit the range from t0 to t1 into n parts, dt-sized parts, or by period type (e.g., Month, Day).\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tsproj-Tuple{Any, Any}","page":"API","title":"TimeseriesUtilities.tsproj","text":"tsproj(A, B; dim=nothing, query=nothing)\n\nCompute scalar projection of A onto B along specified dimension dim or query.\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tstat","page":"API","title":"TimeseriesUtilities.tstat","text":"tstat(f, x, [dt]; dim = nothing)\n\nCalculate the statistic f of x along the dim dimension, optionally grouped by dt.\n\nSee also: groupby_dynamic\n\n\n\n\n\n","category":"function"},{"location":"api/#TimeseriesUtilities.tstd-Tuple{Any, Vararg{Any}}","page":"API","title":"TimeseriesUtilities.tstd","text":"tstd(x, [dt]; dim=nothing, query=nothing)\n\nCalculate the standard deviation of x along the dim dimension, optionally grouped by dt.\n\nIt returns a value if x is a vector along the dim dimension, otherwise returns a DimArray with the specified dimension dropped.\n\nIf dim is not specified, it defaults to the query dimension (dimension of type TimeDim by default).\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tsubtract","page":"API","title":"TimeseriesUtilities.tsubtract","text":"tsubtract(x, f=nanmedian; dims=timedim(x))\n\nSubtract a statistic (default function f: nanmedian) along dimensions (default: time dimension) from x.\n\n\n\n\n\n","category":"function"},{"location":"api/#TimeseriesUtilities.tsum-Tuple{Any, Vararg{Any}}","page":"API","title":"TimeseriesUtilities.tsum","text":"tsum(x, [dt]; dim=nothing, query=nothing)\n\nCalculate the sum of x along the dim dimension, optionally grouped by dt.\n\nIt returns a value if x is a vector along the dim dimension, otherwise returns a DimArray with the specified dimension dropped.\n\nIf dim is not specified, it defaults to the query dimension (dimension of type TimeDim by default).\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tsync-Tuple{Any, Vararg{Any}}","page":"API","title":"TimeseriesUtilities.tsync","text":"tsync(A, Bs...)\n\nSynchronize multiple time series to have the same time points.\n\nThis function aligns the time series Bs... to match the time points of A by:\n\nFinding the common time range between all input time series\nExtracting the subset of A within this common range\nInterpolating each series in Bs... to match the time points of the subset of A\n\nReturns a tuple containing the synchronized time series, with the first element being the subset of A and subsequent elements being the interpolated versions of Bs....\n\nExamples\n\nA_sync, B_sync, C_sync = tsync(A, B, C)\n\nSee also: tinterp, common_timerange\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tvar-Tuple{Any, Vararg{Any}}","page":"API","title":"TimeseriesUtilities.tvar","text":"tvar(x, [dt]; dim=nothing, query=nothing)\n\nCalculate the variance of x along the dim dimension, optionally grouped by dt.\n\nIt returns a value if x is a vector along the dim dimension, otherwise returns a DimArray with the specified dimension dropped.\n\nIf dim is not specified, it defaults to the query dimension (dimension of type TimeDim by default).\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.tview-Tuple{Any, Any, Any}","page":"API","title":"TimeseriesUtilities.tview","text":"tview(d, t0, t1)\n\nView a dimension or DimArray in time range [t0, t1].\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.unwrap-Tuple{Any}","page":"API","title":"TimeseriesUtilities.unwrap","text":"unwrap(x)\n\nReturn the innermost object of the wrapped object x with similar behavior as x (e.g. same size, same type, etc.)\n\n\n\n\n\n","category":"method"},{"location":"api/#TimeseriesUtilities.window_bf_sizes-Tuple{Integer}","page":"API","title":"TimeseriesUtilities.window_bf_sizes","text":"window_bf_sizes(window)\n\nConverts a window specification to backward and forward window sizes.\n\nWhen window is a positive integer scalar, the window is centered about the current element and contains window-1 neighboring elements. If window is even, then the window is centered about the current and previous elements.\n\n\n\n\n\n","category":"method"},{"location":"explanations/analysis/#Analysis-Tools","page":"Analysis Tools","title":"Analysis Tools","text":"","category":"section"},{"location":"explanations/analysis/#SPEDAS.current_density-explanations-analysis","page":"Analysis Tools","title":"SPEDAS.current_density","text":"current_density(B, V)\n\nCalculate the current density time series from the magnetic field (B) and plasma velocity (V) time series.\n\nAssume 1-D structure along the z-direction. Remember to transform the coordinates of B and V first (e.g. using mva\n\n\n\n\n\n","category":"function"},{"location":"explanations/data/#Data-Formats-and-Retrieval","page":"Data Formats and Retrieval","title":"Data Formats and Retrieval","text":"We support many multidimensional data formats via the interface defined in SpaceDataModel.jl. Commonly used data formats include: DimArray in DimensionalData.jl, CDFVariable in CDFDatasets.jl, DataContainer in Speasy.jl and HAPIVariable in HAPIClient.jl.\n\nMetadata, including units, coordinate systems, and other relevant information, are automatically preserved when loading data from CDF files or web servers. This metadata is utilized /& preserved for subsequent processing, analysis, and visualization tasks.","category":"section"},{"location":"explanations/data/#Data-Retrieval","page":"Data Formats and Retrieval","title":"Data Retrieval","text":"There are multiple ways to retrieve data in the JuliaSpacePhysics Ecosystem:\n\nCDAWeb.jl (preferred): a Julia library to access data from NASA's CDAWeb.\nSpeasy (preferred): a Python library for accessing space physics data. Integration is provided using the wrapper library Speasy.jl.\nMadrigal.jl: a Julia API to access the Madrigal database.\nPySPEDAS: Python-based Space Physics Environment Data Analysis Software. Integration is provided using the wrapper library PySPEDAS.jl.\nHAPI: Heliophysics Application Programmer‚Äôs Interface (HAPI) specification. Integration is provided using the wrapper library HAPIClient.jl.","category":"section"},{"location":"explanations/data_model/#Data-Model-and-Project-Module","page":"Data Model and Project Module","title":"Data Model and Project Module","text":"We adopt a data model inspired by the SPASE Model.","category":"section"},{"location":"explanations/data_model/#Data-Model-Overview","page":"Data Model and Project Module","title":"Data Model Overview","text":"The data model organizes data in a hierarchical type structure:\n\nProject/Observatory: Represents a mission or project (e.g., MMS, THEMIS)\nContains multiple instruments\nContains multiple datasets\nInstrument: Represents a scientific instrument on a spacecraft\nAssociated with a specific project\nProduces various types of data\nLDataSet: A template for generating datasets with parameterized naming patterns\nDefines the format for dataset names\nSpecifies variables and their naming patterns\nDataSet: A concrete dataset created from an LDataSet template\nContains actual data parameters\nCreated with specific values (e.g., probe number, data rate)","category":"section"},{"location":"explanations/data_model/#Project-Module-and-Configuration","page":"Data Model and Project Module","title":"Project Module and Configuration","text":"We support TOML configuration files to define project-specific metadata. A typical configuration file includes:\n\nProject metadata\nInstrument definitions\nDataset template definitions\n\nWe use the configuration files to generate appropriate data structures in the project module. For example, the corresponding configuration file of Magnetospheric Multiscale (MMS) module src/projects/MMS/MMS.jl is config/MMS.toml.\n\nnote: Note\nWhile configuration files provide a convenient way to structure project metadata, you can also create these data structures directly in code. The configuration approach is optional and primarily serves to separate configuration from implementation.","category":"section"},{"location":"explanations/data_model/#Usage-Examples","page":"Data Model and Project Module","title":"Usage Examples","text":"Project-specific instruments and datasets are exported as global variables when importing a project module using SPEDAS.{project}, for example:\n\nusing SPEDAS\nusing SPEDAS.MMS\n\nmms\n\nYou can access instruments/datasets directly through the project or via exported variables:\n\n@assert mms.instruments[\"feeps\"] === feeps\nfeeps\n\nDataset templates can be used to create concrete datasets by providing specific parameter values:\n\n# Multiple ways to access a dataset\n@assert fpi_moms === mms.datasets[\"fpi_moms\"] === mms.instruments[\"fpi\"].datasets[\"fpi_moms\"]\nfpi_moms\n\n# Create a concrete dataset with specific parameters\ndataset = DataSet(fpi_moms; probe=1, data_rate=\"fast\", data_type=\"des\")","category":"section"},{"location":"explanations/data_model/#How-Configuration-Files-Are-Used","page":"Data Model and Project Module","title":"How Configuration Files Are Used","text":"When you import a project module (e.g., using SPEDAS.MMS), the system:\n\nReads the corresponding TOML configuration file\nCreates a Project object with the defined metadata\nInstantiates Instrument objects for each instrument definition\nCreates LDataSet (dataset template) objects for each dataset definition\n\nThese objects are then accessible through the project namespace (e.g., mms.instruments[\"fpi\"] or mms.datasets[\"fpi_moms\"]).","category":"section"},{"location":"explanations/data_model/#Adding-a-New-Project","page":"Data Model and Project Module","title":"Adding a New Project","text":"To add support for a new space physics mission:\n\nCreate a new TOML file in the config/ directory (e.g., config/cluster.toml)\nDefine the project metadata, instruments, and dataset templates\nCreate a corresponding module in the src/projects/ directory (for example, MMS module is defined in src/projects/mms.jl)\n\nThe configuration file will be automatically loaded when the project module is imported.","category":"section"},{"location":"explanations/data_model/#SpaceDataModel.Project-explanations-data_model","page":"Data Model and Project Module","title":"SpaceDataModel.Project","text":"Project <: AbstractProject\n\nA representation of a project or mission containing instruments and datasets.\n\nFields\n\nname: The name of the project\nmetadata: Additional metadata\ninstruments: Collection of instruments\ndatasets: Collection of datasets\n\n\n\n\n\n","category":"type"},{"location":"explanations/data_model/#SpaceDataModel.Instrument-explanations-data_model","page":"Data Model and Project Module","title":"SpaceDataModel.Instrument","text":"Instrument <: AbstractInstrument\n\nFields\n\nname: The name of the instrument\nmetadata: Additional metadata\ndatasets: Collection of datasets\n\n\n\n\n\n","category":"type"},{"location":"explanations/data_model/#SpaceDataModel.LDataSet-explanations-data_model","page":"Data Model and Project Module","title":"SpaceDataModel.LDataSet","text":"LDataSet <: AbstractDataSet\n\nA template for generating datasets with parameterized naming patterns.\n\nFields\n\nformat: Format string pattern for the dataset name\ndata: Dictionary of variable patterns\nmetadata: Additional metadata\n\nExamples\n\nusing SPEDAS.MMS\n\n# Access FPI dataset specification\nlds = mms.datasets.fpi_moms\n\n# Create a concrete dataset with specific parameters\nds = DataSet(lds; probe=1, data_rate=\"fast\", data_type=\"des\")\n\nThe format string and variable patterns use placeholders like {probe}, {data_rate},  which are replaced with actual values when creating a concrete DataSet.\n\n\n\n\n\n","category":"type"},{"location":"explanations/data_model/#SpaceDataModel.DataSet-explanations-data_model","page":"Data Model and Project Module","title":"SpaceDataModel.DataSet","text":"DataSet <: AbstractDataSet\n\nA concrete dataset with a name, data (parameters), and metadata.\n\n\n\n\n\n","category":"type"},{"location":"tutorials/01_getting-started/#Quickstart","page":"Quickstart","title":"Quickstart","text":"Here, we show an example of loading data from CDAWeb using Speasy.jl and visualizing it with SpacePhysicsMakie.jl. For additional approaches to retrieving data, see the Julia Space Physics Tutorials. You can also refer to the Data page for a detailed explanation of supported data formats and retrieval methods.","category":"section"},{"location":"tutorials/01_getting-started/#Get-data-with-Speasy","page":"Quickstart","title":"Get data with Speasy","text":"Speasy.jl provides functions to load data from main Space Physics WebServices (CDA,SSC,AMDA,..).\n\nIt could be installed using using Pkg; Pkg.add(\"Speasy\").\n\nusing Speasy\nusing CairoMakie, SpacePhysicsMakie\n\n# da = get_data(\"amda/imf\", \"2016-6-2\", \"2016-6-5\")\ndata = Speasy.get_data(\"cda/OMNI_HRO_1MIN/Pressure\", \"2016-6-2\", \"2016-6-3\"; sanitize=true)","category":"section"},{"location":"tutorials/01_getting-started/#Plot-the-data","page":"Quickstart","title":"Plot the data","text":"tplot(data)","category":"section"},{"location":"validation/pyspedas/#Validation-with-PySPEDAS","page":"Validation with PySPEDAS","title":"Validation with PySPEDAS","text":"note: Performance Notes\nCalling Python from Julia (via PythonCall.jl) introduces only a negligible overhead, typically within nanoseconds.\nMemory allocations shown in Julia benchmarks do not include allocations that occur within Python. To measure Python-side allocations, profiling should be done directly in Python.\nThe documentation and benchmarks are generated using GitHub Actions. Running the code locally with multiple threads (e.g., by setting JULIA_NUM_THREADS) can yield even greater performance improvements for Julia.\n\nusing PySPEDAS\nusing SPEDAS\nusing PythonCall\nusing DimensionalData\nusing PySPEDAS: get_data\nusing CairoMakie, SpacePhysicsMakie","category":"section"},{"location":"validation/pyspedas/#Wave-polarization","page":"Validation with PySPEDAS","title":"Wave polarization","text":"References: twavpol, test_twavpol.py - PySPEDAS, Wave polarization using SCM data - PySPEDAS\n\n@py import pyspedas.analysis.tests.test_twavpol: TwavpolDataValidation\nTwavpolDataValidation.setUpClass()\n\nthc_scf_fac = get_data(\"thc_scf_fac\") |> DimArray\npy_tvars = [\n    \"thc_scf_fac_powspec\",\n    \"thc_scf_fac_degpol\",\n    \"thc_scf_fac_waveangle\",\n    \"thc_scf_fac_elliptict\",\n    \"thc_scf_fac_helict\",\n]\n# PySPEDAS returns non valid values at the first and last frequency bin, the last time bin is also not valid\n_subset_py(x) = x[1:end-1,2:end-1]\npy_result = DimStack(_subset_py.(DimArray.(get_data.(py_tvars))))\npy_result.thc_scf_fac_powspec.metadata[:colorscale] = log10\npy_result.thc_scf_fac_helict.metadata[:colorscale] = identity\nres = twavpol(thc_scf_fac)\n\nf = Figure(; size=(1200, 800))\ntplot(f[1,1], py_result)\ntplot(f[1,2], res)\nf\n\nWe can also use single value decomposition (SVD) technique to calculate the wave polarization.\n\nres = twavpol_svd(thc_scf_fac)\ntplot(res)","category":"section"},{"location":"validation/pyspedas/#Benchmark","page":"Validation with PySPEDAS","title":"Benchmark","text":"using Chairmarks\n\n@b twavpol(thc_scf_fac), twavpol_svd(thc_scf_fac), pyspedas.twavpol(\"thc_scf_fac\")\n\nJulia is about 100 times faster than Python.","category":"section"},{"location":"validation/pyspedas/#Minimum-variance-analysis","page":"Validation with PySPEDAS","title":"Minimum variance analysis","text":"References: mva_eigen, test_minvar.py - PySPEDAS\n\n@py import pyspedas.cotrans_tools.tests.test_minvar: TestMinvar\n@py import pyspedas.cotrans_tools.minvar_matrix_make: minvar_matrix_make\n\nisapprox_eigenvector(v1, v2) = isapprox(v1, v2) || isapprox(v1, -v2)\n\npytest = TestMinvar()\npytest.setUpClass()\n\nthb_fgs_gsm = get_data(\"idl_thb_fgs_gsm_mvaclipped1\") |> DimArray\njl_mva_eigen = mva_eigen(thb_fgs_gsm)\njl_mva_mat = jl_mva_eigen.vectors\njl_mva_vals = jl_mva_eigen.values\n\npy_mva_vals = PyArray(pytest.vals.y) |> vec\npy_mva_mat = PyArray(pytest.mat.y[0])'\n@assert isapprox(jl_mva_vals, py_mva_vals)\n@assert all(isapprox_eigenvector.(eachcol(jl_mva_mat), eachcol(py_mva_mat)))\n\nSince eigenvectors are only unique up to sign; therefore, the test checks if each Julia eigenvector is approximately equal to the corresponding Python eigenvector or its negative. Test passed.","category":"section"},{"location":"validation/pyspedas/#Benchmark-2","page":"Validation with PySPEDAS","title":"Benchmark","text":"@b mva_eigen(thb_fgs_gsm), minvar_matrix_make(\"idl_thb_fgs_gsm_mvaclipped1\")\n\nJulia demonstrates a performance advantage of approximately 1000 times over Python, with significantly reduced memory allocations.  Moreover, Julia's implementation is generalized for N-dimensional data.","category":"section"},{"location":"observatory/mms/#Magnetospheric-Multiscale-(MMS)","page":"Magnetospheric Multiscale (MMS)","title":"Magnetospheric Multiscale (MMS)","text":"","category":"section"},{"location":"observatory/mms/#Instruments","page":"Magnetospheric Multiscale (MMS)","title":"Instruments","text":"","category":"section"},{"location":"observatory/mms/#Datasets","page":"Magnetospheric Multiscale (MMS)","title":"Datasets","text":"","category":"section"},{"location":"observatory/mms/#SPEDAS.MMS","page":"Magnetospheric Multiscale (MMS)","title":"SPEDAS.MMS","text":"Sub-module for \"Magnetospheric Multiscale (MMS)\"\n\nTo load project, project-specific instrument and dataset variables into scope:\n\nusing SPEDAS.MMS\n\nConfiguration File: MMS.toml\n\n\n\n\n\n","category":"module"},{"location":"observatory/mms/#SPEDAS.MMS.mms","page":"Magnetospheric Multiscale (MMS)","title":"SPEDAS.MMS.mms","text":"Project: Magnetospheric Multiscale\n  Instruments (Dict): \n    feeps: Fly's Eye Energetic Particle Sensor\n    scm: Search-coil Magnetometer\n    fgm: Fluxgate Magnetometer\n    edp: Electric Field Double Probe\n    hpca: Hot Plasma Composition Analyzer\n    eis: Energetic Ion Spectrometer\n    edi: Electron Drift Instrument\n    fpi: Fast Plasma Investigation\n  Datasets (Dict): \n    fpi_moms: \n  Metadata (Dict): \n    abbreviation: MMS\n\n\n\n\n\n","category":"constant"},{"location":"observatory/mms/#SPEDAS.MMS.edi","page":"Magnetospheric Multiscale (MMS)","title":"SPEDAS.MMS.edi","text":"Instrument: Electron Drift Instrument\n\n\n\n\n\n","category":"constant"},{"location":"observatory/mms/#SPEDAS.MMS.edp","page":"Magnetospheric Multiscale (MMS)","title":"SPEDAS.MMS.edp","text":"Instrument: Electric Field Double Probe\n\n\n\n\n\n","category":"constant"},{"location":"observatory/mms/#SPEDAS.MMS.eis","page":"Magnetospheric Multiscale (MMS)","title":"SPEDAS.MMS.eis","text":"Instrument: Energetic Ion Spectrometer\n\n\n\n\n\n","category":"constant"},{"location":"observatory/mms/#SPEDAS.MMS.feeps","page":"Magnetospheric Multiscale (MMS)","title":"SPEDAS.MMS.feeps","text":"Instrument: Fly's Eye Energetic Particle Sensor\n\n\n\n\n\n","category":"constant"},{"location":"observatory/mms/#SPEDAS.MMS.fgm","page":"Magnetospheric Multiscale (MMS)","title":"SPEDAS.MMS.fgm","text":"Instrument: Fluxgate Magnetometer\n\n\n\n\n\n","category":"constant"},{"location":"observatory/mms/#SPEDAS.MMS.fpi","page":"Magnetospheric Multiscale (MMS)","title":"SPEDAS.MMS.fpi","text":"Instrument: Fast Plasma Investigation\n  Datasets (Dict): \n    fpi_moms: \n\n\n\n\n\n","category":"constant"},{"location":"observatory/mms/#SPEDAS.MMS.hpca","page":"Magnetospheric Multiscale (MMS)","title":"SPEDAS.MMS.hpca","text":"Instrument: Hot Plasma Composition Analyzer\n\n\n\n\n\n","category":"constant"},{"location":"observatory/mms/#SPEDAS.MMS.scm","page":"Magnetospheric Multiscale (MMS)","title":"SPEDAS.MMS.scm","text":"Instrument: Search-coil Magnetometer\n\n\n\n\n\n","category":"constant"},{"location":"observatory/mms/#SPEDAS.MMS.fpi_moms","page":"Magnetospheric Multiscale (MMS)","title":"SPEDAS.MMS.fpi_moms","text":"LDataSet: \n  Data (Dict): \n    temppara: mms{probe}_{data_type}_temppara_{data_rate}\n    bulkv_gse: mms{probe}_{data_type}_bulkv_gse_{data_rate}\n    tempperp: mms{probe}_{data_type}_tempperp_{data_rate}\n    numberdensity: mms{probe}_{data_type}_numberdensity_{data_rate}\n    energyspectr_omni: mms{probe}_{data_type}_energyspectr_omni_{data_rate}\n  Metadata (Dict): \n    data_rates: [\"fast\", \"brst\"]\n    data_types: [\"des\", \"dis\"]\n    probes: [1, 2, 3, 4]\n\n\n\n\n\n","category":"constant"},{"location":"observatory/psp/#Parker-Solar-Probe-(PSP)","page":"Parker Solar Probe (PSP)","title":"Parker Solar Probe (PSP)","text":"","category":"section"},{"location":"observatory/psp/#Instruments","page":"Parker Solar Probe (PSP)","title":"Instruments","text":"","category":"section"},{"location":"observatory/psp/#Datasets","page":"Parker Solar Probe (PSP)","title":"Datasets","text":"","category":"section"},{"location":"observatory/psp/#Examples","page":"Parker Solar Probe (PSP)","title":"Examples","text":"using Speasy: SpeasyProduct\nusing SPEDAS\nusing CairoMakie, SpacePhysicsMakie\nusing Unitful\n\nn = DataSet(\"Density\",\n    [\n        SpeasyProduct(\"PSP_SWP_SPI_SF00_L3_MOM/DENS\"; labels=[\"SPI Proton\"]),\n        SpeasyProduct(\"PSP_SWP_SPC_L3I/np_moment\"; labels=[\"SPC Proton\"]),\n        SpeasyProduct(\"PSP_FLD_L3_RFS_LFR_QTN/N_elec\"; labels=[\"RFS Electron\"]),\n        SpeasyProduct(\"PSP_FLD_L3_SQTN_RFS_V1V2/electron_density\"; labels=[\"SQTN Electron\"])\n    ]\n)\n\nThe DataSets are callable: given a time range, it will return the actual data.\n\nt0 = \"2021-08-09T06\"\nt1 = \"2021-08-10T18\"\nn(t0, t1)\n\n# tplot(n(t0, t1)) # get the data first and plot it\ntplot(n, t0, t1) # or interactive mode\n\n# Overlay multiple datasets in the same panel\ntplot([n], t0, t1)","category":"section"},{"location":"observatory/psp/#References","page":"Parker Solar Probe (PSP)","title":"References","text":"Wikipedia","category":"section"},{"location":"observatory/psp/#SPEDAS.PSP","page":"Parker Solar Probe (PSP)","title":"SPEDAS.PSP","text":"Sub-module for \"Parker Solar Probe (PSP)\"\n\nTo load project, project-specific instrument and dataset variables into scope:\n\nusing SPEDAS.PSP\n\nConfiguration File: PSP.toml\n\n\n\n\n\n","category":"module"},{"location":"observatory/psp/#SPEDAS.PSP.psp","page":"Parker Solar Probe (PSP)","title":"SPEDAS.PSP.psp","text":"Project: Parker Solar Probe\n  Instruments (Dict): \n    isois: Integrated Science Investigation of the Sun\n    fields: FIELDS\n    wispr: Wide-field Imager for Solar Probe\n    eis: Ephemeris\n    sweap: Solar Wind Electrons Alphas and Protons\n  Metadata (Dict): \n    abbreviation: PSP\n    links: [\"https://hpde.io/SMWG/Observatory/ParkerSolarProbe.html\", \"[Wikipedia](https://en.wikipedia.org/wiki/Parker_Solar_Probe)\"]\n    spase_id: spase://SMWG/Observatory/ParkerSolarProbe\n\n\n\n\n\n","category":"constant"},{"location":"observatory/psp/#SPEDAS.PSP.eis","page":"Parker Solar Probe (PSP)","title":"SPEDAS.PSP.eis","text":"Instrument: Ephemeris\n\n\n\n\n\n","category":"constant"},{"location":"observatory/psp/#SPEDAS.PSP.fields","page":"Parker Solar Probe (PSP)","title":"SPEDAS.PSP.fields","text":"Instrument: FIELDS\n  Metadata (Dict): \n    spase_id: spase://SMWG/Instrument/ParkerSolarProbe/FIELDS\n\n\n\n\n\n","category":"constant"},{"location":"observatory/psp/#SPEDAS.PSP.isois","page":"Parker Solar Probe (PSP)","title":"SPEDAS.PSP.isois","text":"Instrument: Integrated Science Investigation of the Sun\n\n\n\n\n\n","category":"constant"},{"location":"observatory/psp/#SPEDAS.PSP.sweap","page":"Parker Solar Probe (PSP)","title":"SPEDAS.PSP.sweap","text":"Instrument: Solar Wind Electrons Alphas and Protons\n\n\n\n\n\n","category":"constant"},{"location":"observatory/psp/#SPEDAS.PSP.wispr","page":"Parker Solar Probe (PSP)","title":"SPEDAS.PSP.wispr","text":"Instrument: Wide-field Imager for Solar Probe\n\n\n\n\n\n","category":"constant"},{"location":"validation/coords/#Compare-Coordinate-Transformations-with-IRBEM-and-PySPEDAS","page":"Compare Coordinate Transformations with IRBEM and PySPEDAS","title":"Compare Coordinate Transformations with IRBEM and PySPEDAS","text":"See Coordinate Systems for more information.\n\nnote: Takeaway\nJulia's implementation yields results very close to IRBEM's and PySPEDAS's one, and is an order of magnitude faster. (Julia's one uses finer interpolation than IRBEM's and PySPEDAS's one to determine IGRF coefficients and sun's direction, leading to more accurate transformations.)\n\nReferences: cotrans, test_cotrans.py - PySPEDAS","category":"section"},{"location":"validation/coords/#Setup","page":"Compare Coordinate Transformations with IRBEM and PySPEDAS","title":"Setup","text":"using PySPEDAS\nusing SPEDAS\nusing SPEDAS: irbem_cotrans\nusing PythonCall\nusing DimensionalData\nusing Chairmarks\nusing Test\n\nSetup using PySPEDAS test cases.\n\n@py import pyspedas.cotrans_tools.tests.test_cotrans: CotransTestCases\n\npytest = CotransTestCases()\npytest.test_cotrans()\n\ntrange = [\"2010-02-25/00:00:00\", \"2010-02-25/23:59:59\"]\npyspedas.projects.themis.state(trange, probe=\"a\", time_clip=true)\n\ntha_pos = PySPEDAS.get_data(\"tha_pos\") |> DimArray\ntha_pos_gse = PySPEDAS.get_data(\"tha_pos_gse\") |> DimArray\njl_tha_pos = set(tha_pos, Dim{:time}=>Ti)\njl_tha_pos_gse = set(tha_pos_gse, Dim{:time}=>Ti)","category":"section"},{"location":"validation/coords/#Validation","page":"Compare Coordinate Transformations with IRBEM and PySPEDAS","title":"Validation","text":"Transform coordinates using Julia native implementation, IRBEM, and PySPEDAS.\n\nGEI <-> GEO\n\njl_tha_pos_geo = gei2geo(jl_tha_pos)\nir_tha_pos_geo = irbem_cotrans(jl_tha_pos', \"GEI\", \"GEO\")'\npy_tha_pos_geo = PySPEDAS.get_data(\"tha_pos_new_geo\") |> DimArray\n\n@test jl_tha_pos_geo ‚âà parent(py_tha_pos_geo)\n@test jl_tha_pos_geo ‚âà ir_tha_pos_geo\n\nGEI <-> GSM\n\njl_tha_pos_gsm = gei2gsm(jl_tha_pos)\nir_tha_pos_gsm = irbem_cotrans(jl_tha_pos', \"GEI\", \"GSM\")'\npyspedas.cotrans(\"tha_pos\", \"tha_pos_new_gsm\", coord_in=\"GEI\", coord_out=\"GSM\")\npy_tha_pos_gsm = PySPEDAS.get_data(\"tha_pos_new_gsm\") |> DimArray\n\n@test isapprox(jl_tha_pos_gsm, parent(py_tha_pos_gsm), rtol=1e-5)\n@test isapprox(jl_tha_pos_gsm, ir_tha_pos_gsm, rtol=1e-3)\n\nGSE <-> GSM\n\njl_tha_pos_gsm = gse2gsm(jl_tha_pos_gse)\nir_tha_pos_gsm = irbem_cotrans(jl_tha_pos_gse', \"GSE\", \"GSM\")'\npyspedas.cotrans(\"tha_pos_gse\", \"tha_pos_new_gsm\", coord_in=\"GSE\", coord_out=\"GSM\")\npy_tha_pos_gsm = PySPEDAS.get_data(\"tha_pos_new_gsm\") |> DimArray\n\n@test isapprox(jl_tha_pos_gsm, parent(py_tha_pos_gsm), rtol=1e-5)\n@test isapprox(jl_tha_pos_gsm, ir_tha_pos_gsm, rtol=1e-3)\n\nValidate results: GEI/GEO transformations is quite accurate, while there are some differences in GSE/GSM transformations between Julia native implementation and IRBEM's one.","category":"section"},{"location":"validation/coords/#Benchmark","page":"Compare Coordinate Transformations with IRBEM and PySPEDAS","title":"Benchmark","text":"Depends on the transformation, Julia's implementation is about 10-40 times faster than IRBEM's (Fortran) implementation, and 20-50 times faster than PySPEDAS's (Python) implementation.\n\n@b gei2geo($jl_tha_pos), irbem_cotrans($jl_tha_pos', \"GEI\", \"GEO\"), pyspedas.cotrans(\"tha_pos\", \"tha_pos_new_geo\", coord_in=\"GEI\", coord_out=\"GEO\")\n\n@b gei2gsm($jl_tha_pos), irbem_cotrans($jl_tha_pos', \"GEI\", \"GSM\"), pyspedas.cotrans(\"tha_pos\", \"tha_pos_new_gsm\", coord_in=\"GEI\", coord_out=\"GSM\")\n\n@b gse2gsm($jl_tha_pos_gse), irbem_cotrans($jl_tha_pos_gse', \"GSE\", \"GSM\"), pyspedas.cotrans(\"tha_pos_gse\", \"tha_pos_new_gsm\", coord_in=\"GSE\", coord_out=\"GSM\")","category":"section"},{"location":"#SPEDAS.jl","page":"Home","title":"SPEDAS.jl","text":"(Image: DOI) (Image: version)\n\n(Image: SciML Code Style) (Image: Build Status) (Image: Coverage)\n\nA collection of tools for space physics / heliophysics: from data loading and processing to plotting and analysis.","category":"section"},{"location":"#Installation","page":"Home","title":"Installation","text":"using Pkg\nPkg.add(\"SPEDAS\")","category":"section"},{"location":"#Explanations","page":"Home","title":"Explanations","text":"note: Notes\nThis package began as a Julia port of PySPEDAS but has since expanded beyond a direct translation. While we aim to keep the API broadly consistent with the original, some intentional differences reflect design improvements in the Julia ecosystem. If you need a one-to-one wrapper of the Python library, see PySPEDAS.jl.\nThe package now functions as a meta-package. Much of its functionality has been refactored into separate, modular components to improve maintainability and accelerate development. The broader JuliaSpacePhysics Ecosystem includes tools for coordinate transformations (GeoCotrans.jl), data access (e.g., CDAWeb.jl), data analysis (e.g., VelocityDistributionFunctions.jl), and more specialized applications (e.g., GeoAACGM.jl).\nThe primary goal of this package is to coordinate diverse data sources and analysis methods, providing a unified, high-level interface for scientific workflows. A secondary goal is to ensure consistent interfaces and to validate results against tools such as PySPEDAS.\n\nPlasma wave analysis is supported through the PlasmaWaves.jl package. See, for example, the section on wave polarization analysis. Plasma electromagnetic dispersion-relation solving is supported through PlasmaBO.jl.\n\nEnergetic particle analysis is provided by SolarEnergeticParticle.jl. See, for example, the sections on onset analysis and velocity dispersion analysis (VDA).\n\nMulti-spacecraft analysis methods are provided by MultiSpacecraftAnalysis.jl, see the section on using reciprocal vectors to estimate spatial gradients.\n\nSpacePhysicsMakie.jl provides utilities for visualizing and composing space physics time series data.","category":"section"},{"location":"#Contents","page":"Home","title":"Contents","text":"Pages = [\n    \"explanations/data.md\",\n    \"explanations/data_model.md\",\n    \"explanations/coords.md\",\n    \"explanations/multispacecraft.md\",\n    \"explanations/timeseries.md\"\n]\nDepth = 1","category":"section"},{"location":"#Related-packages","page":"Home","title":"Related packages","text":"SPEDAS (IDL) / PySPEDAS : Space Physics Environment Data Analysis Software framework to support loading, plotting, analysis, and integration of data from a number of space- and ground-based observatories\nSpacePy : A package for Python, targeted at the space sciences, that aims to make basic data analysis, modeling and visualization easier.\nKamodo : An official NASA open-source python package built upon the functionalization of datasets\nautoplot : An interactive browser for data on the web\ndas2: Web-based data delivery, visualization, and analysis system from the The University of Iowa.\ngeospacelab: A python-based library to collect, manage, and visualize the geospace data\nData sources: Madrigal/EISCAT, Madrigal/GNSS/TECMAP, Madrigal/DMSP...\nspace-analysis.py : Python utils for data analysis in space physics.\nSpaceAnalysis.jl : Space physics analysis tool using Julia\nspectral analysis\nmoving box average for filtering magnetometer data\nirfu-matlab: Matlab routines to work with space data, particularly with MMS and Cluster/CAA data. Also some general plasma routines.\npyrfu: Python version of irfu-matlab to work with space data, particularly the Magnetospheric MultiScale (MMS) mission.\nQSAS (C/C++) : Science Analysis Software for Space Plasmas\npysat: Python Satellite Data Analysis Toolkit\n\n‚ö†Ô∏è Development Status: This package is in active development. While functional, the API may undergo changes in future releases. Please review the documentation and test thoroughly before using in scientific work.\n\nüì´ Contributing: We welcome contributions! If you're interested in collaborating or need assistance, please open an issue or reach out through our GitHub repository.","category":"section"},{"location":"#Reproducibility","page":"Home","title":"Reproducibility","text":"<details><summary>The documentation of this package was built using these direct dependencies,</summary>\n\nusing Pkg # hide\nPkg.status() # hide\n\n</details>\n\n<details><summary>and using this machine and Julia version.</summary>\n\nusing InteractiveUtils # hide\nversioninfo() # hide\n\n</details>\n\nM.¬†Hapgood. Space Physics Coordinate Transformations: A User Guide. Planetary¬†and¬†Space¬†Science 40, 711‚Äì717 (1992).\n\n\n\nG.¬†Paschmann and P.¬†W.¬†Daly. Analysis Methods for Multi-Spacecraft Data (ESA Publications Division, 2000).\n\n\n\n","category":"section"},{"location":"explanations/coords/#Coordinate-Systems-and-Transformations","page":"Coordinate Systems and Transformations","title":"Coordinate Systems and Transformations","text":"This package defines common coordinate systems used in heliophysics and space physics research.\n\nPages = [\"coords.md\"]\nDepth = 2:3","category":"section"},{"location":"explanations/coords/#Standard-Coordinate-Systems","page":"Coordinate Systems and Transformations","title":"Standard Coordinate Systems","text":"Systems based on the Earth-Sun line\n\nGSE (Geocentric Solar Ecliptic)\nGSM (Geocentric Solar Magnetic)\n\nSystems based on the Earth's rotation axis\n\nGEO (Geographic)\nGEI (Geocentric Equatorial Inertial)\nJ2000\n\nSystems based on the dipole axis of the Earth's magnetic field\n\nSM (Solar Magnetic)\nMAG (Geomagnetic)\n\nOther coordinate systems\n\nAltitude Adjusted Corrected Geogmagnetic Coordinates (AACGM)\n\nMore information can be found in the the following links\n\nhttps://stereo-ssc.nascom.nasa.gov/coordinates_explanation.shtml\nGeocentric systems","category":"section"},{"location":"explanations/coords/#Coordinate-Transformations","page":"Coordinate Systems and Transformations","title":"Coordinate Transformations","text":"A comprehensive description of the transformations can be found in Hapgood [1]","category":"section"},{"location":"explanations/coords/#Coordinate-transformations-between-geocentric-systems","page":"Coordinate Systems and Transformations","title":"Coordinate transformations between geocentric systems","text":"using DimensionalData\nusing Speasy, SPEDAS\nusing CairoMakie, SpacePhysicsMakie\n\npos_gse = get_data(\"cda/THC_L1_STATE/thc_pos_gse\", \"2015-10-16\", \"2015-10-17\") |> DimArray\n\npos_gsm = cotrans(pos_gse, \"GSM\")\npos_sm = cotrans(pos_gse, \"SM\")\npos_geo = cotrans(pos_gse, \"GEO\")\n\ntplot((pos_gse, pos_gsm, pos_sm, pos_geo))","category":"section"},{"location":"explanations/coords/#Specialized-Coordinate-Systems","page":"Coordinate Systems and Transformations","title":"Specialized Coordinate Systems","text":"The package also provides transformations for analysis-specific coordinate systems:","category":"section"},{"location":"explanations/coords/#Field-Aligned-Coordinates-(FAC)","page":"Coordinate Systems and Transformations","title":"Field-Aligned Coordinates (FAC)","text":"A local coordinate system defined relative to the ambient magnetic field direction, useful for studying plasma waves and particle distributions.","category":"section"},{"location":"explanations/coords/#Minimum-Variance-Analysis-(MVA)-and-Boundary-Normal-Coordinates-(LMN)","page":"Coordinate Systems and Transformations","title":"Minimum Variance Analysis (MVA) and Boundary Normal Coordinates (LMN)","text":"A coordinate system derived from the eigenvalues and eigenvectors of the magnetic field variance matrix, commonly used in analyzing current sheets, discontinuities, and wave propagation.\n\nSee MinimumVarianceAnalysis.jl for more details.\n\nSee also: Comparison with PySPEDAS.","category":"section"},{"location":"explanations/coords/#Reference","page":"Coordinate Systems and Transformations","title":"Reference","text":"The International Radiation Belt Environment Modeling (IRBEM) library\n\nPySPEDAS: Coordinate Systems\ngeopack: Python version of geopack and Tsyganenko models\ngeospacelab: A python-based library to collect, manage, and visualize geospace data (e.g. OMNI, geomagnetic indices, EISCAT, DMSP, SWARM, TEC, AMPERE, etc.).\naacgmv2: Python library for AACGM-v2 magnetic coordinates","category":"section"},{"location":"explanations/coords/#SPEDAS.rotate-explanations-coords","page":"Coordinate Systems and Transformations","title":"SPEDAS.rotate","text":"rotate(ts::AbstractMatrix, mat::AbstractMatrix)\n\nCoordinate-aware transformation of vector/matrix by rotation matrix(s) mat(s). Assume ts is a matrix of shape (n, 3).\n\n\n\n\n\n","category":"function"},{"location":"explanations/coords/#SPEDAS.cotrans-explanations-coords","page":"Coordinate Systems and Transformations","title":"SPEDAS.cotrans","text":"cotrans(A, in, out; backend=:auto)\ncotrans(A, out; in=get_coord(A))\n\nTransform the data to the out coordinate system from the in coordinate system.\n\nIf backend is set to :auto (default), this function automatically chooses between Julia's GeoCotrans (if available) and Fortran's IRBEM implementation. Otherwise, it uses the specified backend.\n\nReferences:\n\nIRBEM-LIB: compute magnetic coordinates and perform coordinate conversions (Documentation, IRBEM.jl)\nSPEDAS Cotrans\n\n\n\n\n\n","category":"function"},{"location":"explanations/coords/#SPEDAS.fac_mat-explanations-coords","page":"Coordinate Systems and Transformations","title":"SPEDAS.fac_mat","text":"fac_mat(vec::AbstractVector; xref=[1.0, 0.0, 0.0])\n\nGenerates a field-aligned coordinate (FAC) transformation matrix for a vector.\n\nArguments\n\nvec: A 3-element vector representing the magnetic field\n\n\n\n\n\n","category":"function"},{"location":"explanations/coords/#MinimumVarianceAnalysis.mva_eigen-explanations-coords","page":"Coordinate Systems and Transformations","title":"MinimumVarianceAnalysis.mva_eigen","text":"mva_eigen(B::AbstractMatrix; dim = nothing, sort=(;), check=false) -> F::Eigen\n\nPerform minimum variance analysis for B (which varies along the dim dimension).\n\nReturn Eigen factorization object F which contains the eigenvalues in F.values and the eigenvectors in the columns of the matrix F.vectors.\n\nSet check=true to check the reliability of the result.\n\nThe kth eigenvector can be obtained from the slice F.vectors[:, k].\n\n\n\n\n\n","category":"function"},{"location":"explanations/coords/#MinimumVarianceAnalysis.mva-explanations-coords","page":"Coordinate Systems and Transformations","title":"MinimumVarianceAnalysis.mva","text":"mva(V, B=V; dim=nothing, kwargs...)\n\nRotate a timeseries V into the LMN coordinates based on the reference field B along the dim dimension (time).\n\nSee also: mva_eigen, rotate\n\n\n\n\n\n","category":"function"},{"location":"explanations/coords/#MinimumVarianceAnalysis.check_mva_eigen-explanations-coords","page":"Coordinate Systems and Transformations","title":"MinimumVarianceAnalysis.check_mva_eigen","text":"check_mva_eigen(F; r=5, verbose=false)\n\nCheck the quality of the MVA result.\n\nIf Œª‚ÇÅ ‚â• Œª‚ÇÇ ‚â• Œª‚ÇÉ are 3 eigenvalues of the constructed matrix M, then a good indicator of nice fitting LMN coordinate system should have abs(Œª‚ÇÇ  Œª‚ÇÉ)  r.\n\n\n\n\n\n","category":"function"}]
}
